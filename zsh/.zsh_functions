tig() {
  # 擴充 tig 指令，支援 dangling 子命令來查看懸空的 commits
  if [[ "$1" == "dangling" ]]; then
    command tig --all $(git fsck --no-reflog | awk "/dangling commit/ {print \$3}")
  else
    command tig "$@"
  fi
}

# pet: Ctrl+S to search and insert snippet
function pet-select() {
  BUFFER=$(pet search --query "$LBUFFER")
  CURSOR=$#BUFFER
  zle redisplay
}
zle -N pet-select
stty -ixon
bindkey '^s' pet-select
